---
title: "Introduction to Git"
subtitle: "<html><div style='float:left'></div><hr color='#EB811B' size=1px width=796px></html>"
author: The Alberta Biodiversity Monitoring Institute
date: # `r format(Sys.time(), '%d %B %Y')`
output:
  xaringan::moon_reader:
    css: [default, metropolis, metropolis-fonts] 
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include = FALSE}

options(htmltools.dir.version = FALSE)

library(knitr)

opts_chunk$set(
  fig.align="center", #fig.width=6, fig.height=4.5, 
  # out.width="748px", #out.length="520.75px",
  dpi=300, #fig.path='Figs/',
  cache=T#, echo=F, warning=F, message=F
  )

```

# Outline of these workshops

## Workshop 1 (October 17, 2019)

1. [Prologue](#Prologue)

  > What are we doing here? 

1. [Version Control with Git(hub)](#git)

  > Version Control, baby! 
  
1. [Talking with Git](#shell)

  > "Hello, World!"

1. [Git(hub) and RStudio](#rstudio)

  > Ah, the good stuff.

1. [Summary](#summary)

  > And what will we do next time?

---

# Outline of these workshops

## Workshop 2 (October 24, 2019)

- Troubleshoot issues that inevitably arise 

- Go through some more advanced Git operations and workflows:

  + Conflicts
  + Branches
  + Forking

## Workshop 3 (If desired; TBD)

- Discuss practices and procedures for using Git in ABMI workflow

  + Github organization, teams, and permissions.
  + etc. 

---
class: inverse, center, middle
name: prologue

# Prologue

<html><div style='float:left'></div><hr color='#EB811B' size=1px width=796px></html>

---

# Prologue

## The Highest Ideal

> *The goal is a collaborative, transparent, and efficient approach to our scientific and computational work at the ABMI.* 


<br>
Part of this process will be figuring out how best to structure a collaborative culture within the organization (and with external partners).

We want to operationalize the **reproducibility** of our research.

We want staff to **collaborate** and learn from one another. 

<br>

So there isn't a 'right' way for now, but hopefully it will develop over time where staff from all corners of the organization can contribute to and review the scientific products were generate.  

---

# Going Forward

**The Plan** (capital T capital P) is to:

1. Build skills with git software among staff

  + Develop curated list of Help resources
  + Develop a nucleus of staff who can consistently provide support to others
  + Meet (semi-) regularly to continue skill development 

1. Introduce git to the workflow of a few projects identified as good candidates

1. Over time, build our analyses using git as a collaboration tool and version control backstop, accessible by others both within and outside of the organization.

  ... something, something ...
  
--

1. Conquer the world!! 

---
class: inverse, center, middle
name: git

# Git and GitHub
<html><div style='float:left'></div><hr color='#EB811B' size=1px width=796px></html>
---

# Why bother?

<div align="center">
<img src="http://phdcomics.com/comics/archive/phd101212s.gif" height=500>
</div>

---

# Git (in theory)

A **version control system** is a tool that manages changes made to files and directories in a project.

Many exist, but we'll focus on a particularly powerful one: **Git**.
> If Dropbox and Word's *Track Changes* feature had a baby, Git would be that baby.

--
<br>

Why's it useful?

+ Nothing that is saved to Git is ever lost, unless you work really hard at it.
+ Git can synchronize work done by different people on different machines, and notify you when your work conflicts with someone else's. 
+ Well designed for writing and tracking changes to code ... something we all tend to do a lot of here. 

---

# Key Git Terms

### **Repository**

Git projects have two parts: the files and directories you create and edit directly, and the extra information that Git records about the project's history. 

The combination of these two things is called a *repository*, or 'repo' as the cool kids like Peter say. 

### **Stage** and **Commit**

Git has a *staging area* in which it stores files with changes you want to save, but haven't been saved yet.
  
  > It's like putting things in a box that you intend to mail out. 
  
*Commiting* those changes is like putting that box in the mail. Your changes are saved into the history of your local repo. 

---

# Key Git Terms

### **Pull**/**Push**<sup>1</sup>

Repositories can be local (on your machine) or *remote*, i.e. hosted online by a service like Github (which we'll chat about tout de suite ...)

A typical workflow:

  + You *pull* in your collaborators' work from a remote repository so that you have the latest version of everything.
  + You do some work.
  + You *push* your work back to the remote repository so that your collaborators can access it. 

.footnote[
<sup>1</sup> These two commands were intentionally ordered in this way - it's good practice to Pull before you start work on a project, then Push when you're finished, even if you're working alone. If (when) you forget, there will be pain. Best to get in the habit.]

---

# Key Git Terms

### Many others ...

<br>
Conflicts

Cloning

Branches

Forking

<br>
But we'll save these concepts for the next workshop(s).

---

# Git (in practice)

<div align="center">
<img src="https://imgs.xkcd.com/comics/git.png" height=500>
</div>

---

# Git (in practice)

<div align="center">
<img src="pics/git-fire.png" height=420>
</div>

---

# Github

**Git and Github are distinct things.**

  + [Github](https://www.github.com) is an online hosting platform that provides an array of services built on top of the Git system<sup>1</sup>.
  
  + We can create, manage permissions to, and store our files in repositories hosted by Github.
  
  + Just like we don't *need* RStudio to run R code, we don't *need* Github to use Git - but it makes our lives much easier.
  
<div align="center">
<img src="pics/github-logo.svg" height=150>
</div>

.footnote[
<sup>1</sup> Other examples are Gitlab and Bitbucket.]

---

# Git(hub) for Scientific Research

In addition to the benefits of rigorous version control and collaboration tool, Git(hub) also helps to operationalize the ideals of open science and reproducibility.

  +  *Nature:* "[Democratic databases: science on GitHub](https://www.nature.com/news/democratic-databases-science-on-github-1.20719)" (Perkel, 2016).
  
Journals are increasingly moving towards stricter requirements regarding reproducibility and data access. 

  + No more frustrating reads of a tiny Methods section in a dusty old pdf file of a paper where you're trying desparately to understand what they did, step-by-step (.. *breathes heavily* ..).
  + You can host all the data, code, and writing for papers, projects, and/or reports in one place. Even [workshop materials](https://github.com/mabecker89/cure4git).
  
---

# Getting Started

<div align="center">
<img src="pics/so-it-begins-theoden.gif" height=420>
</div>

> Much like the battle of Helm's Deep, this will likely involve some up front pain. 

---

# Getting Started

.font80[Note: there are a ton of great Git resources online to you walk you through this process in depth. A bunch are listed in the [Resources](#resources) section at the back of this presentation and in the workshop's repo [README file](https://github.com/mabecker89/cure4git/blob/master/README.md), many of which are heavily borrowed from for this presentation.] 

### Register for a [Github](www.github.com) account.

  - It's free! Don't worry about the paid accounts for now<sup>1</sup>.

### Install Git on your local machine.

  - Depends on the OS you're running, but we'll assume Windows for this tutorial.
  - [Git for Windows](https://gitforwindows.org/), aka 'Git Bash', is a desirable approach.
  
.footnote[
<sup>1</sup> You'll qualify for an educational account while you work for ABMI/UofA.]
  
---

# Getting Started

### Introduce yourself to Git.

Directly in the Shell:
  
```{shell}
$ git config --global user.name 'Marcus Becker'
$ git config --global user.email 'mabecker@ualberta.ca`
```
Or through R:

```{r}
# install.packages("usethis")
  
library(usethis)
use_git_config(user.name = "Marcus Becker", 
               user.email = "mabecker@ualberta.ca")
```

<br>
<br>
Tips: Use your (real) full name, and the email associated with your Github account. 

---
class: inverse, center, middle
name: rstudio

# Github and RStudio
<html><div style='float:left'></div><hr color='#EB811B' size=1px width=796px></html>
---

# General Recipe

- Create a new R-Project using the following steps: 

`File -> New Project... -> Version Control -> Git` 

---
class: inverse, center, middle
name: conquer

# Go forth and conquer
<html><div style='float:left'></div><hr color='#EB811B' size=1px width=796px></html>
---
name: resources

# Resources


---





















