<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <title>Introduction to Git</title>
    <meta charset="utf-8" />
    <meta name="author" content="The Alberta Biodiversity Monitoring Institute" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis.css" rel="stylesheet" />
    <link href="libs/remark-css/metropolis-fonts.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introduction to Git
## <html>
<div style="float:left">

</div>
<hr color='#EB811B' size=1px width=796px>
</html>
### The Alberta Biodiversity Monitoring Institute

---




# Outline of these workshops

## Workshop 1 (October 17, 2019)

1. [Prologue](#Prologue)

  &gt; What are we doing here? 

1. [Version Control with Git(hub)](#git)

  &gt; Version Control, baby! 
  
1. [Talking with Git](#shell)

  &gt; "Hello, World!"

1. [Git(hub) and RStudio](#rstudio)

  &gt; Ah, the good stuff.

1. [Summary](#summary)

  &gt; And what will we do next time?

---

# Outline of these workshops

## Workshop 2 (October 24, 2019)

- Troubleshoot issues that inevitably arise 

- Go through some more advanced Git operations and workflows:

  + Conflicts
  + Branches
  + Forking

## Workshop 3 (If desired; TBD)

- Discuss practices and procedures for using Git in ABMI workflow

  + Github organization, teams, and permissions.
  + etc. 

---
class: inverse, center, middle
name: prologue

# Prologue

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;

---

# Prologue

## The Highest Ideal

&gt; *The goal is a collaborative, transparent, and efficient approach to our scientific and computational work at the ABMI.* 


&lt;br&gt;
Part of this process will be figuring out how best to structure a collaborative culture within the organization (and with external partners).

We want to operationalize the **reproducibility** of our research.

We want staff to **collaborate** and learn from one another. 

&lt;br&gt;

So there isn't a 'right' way for now, but hopefully it will develop over time where staff from all corners of the organization can contribute to and review the scientific products were generate.  

---

# Going Forward

**The Plan** (capital T capital P) is to:

1. Build skills with git software among staff

  + Develop curated list of Help resources
  + Develop a nucleus of staff who can consistently provide support to others
  + Meet (semi-) regularly to continue skill development 

1. Introduce git to the workflow of a few projects identified as good candidates

1. Over time, build our analyses using git as a collaboration tool and version control backstop, accessible by others both within and outside of the organization.

  ... something, something ...
  
--

1. Conquer the world!! 

---
class: inverse, center, middle
name: git

# Git and GitHub
&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;
---

# Why bother?

&lt;div align="center"&gt;
&lt;img src="http://phdcomics.com/comics/archive/phd101212s.gif" height=500&gt;
&lt;/div&gt;

---

# Git (in theory)

A **version control system** is a tool that manages changes made to files and directories in a project.

Many exist, but we'll focus on a particularly powerful one: **Git**.
&gt; If Dropbox and Word's *Track Changes* feature had a baby, Git would be that baby.

--
&lt;br&gt;

Why's it useful?

+ Nothing that is saved to Git is ever lost, unless you work really hard at it.
+ Git can synchronize work done by different people on different machines, and notify you when your work conflicts with someone else's. 
+ Well designed for writing and tracking changes to code ... something we all tend to do a lot of here. 

---

# Key Git Terms

### **Repository**

Git projects have two parts: the files and directories you create and edit directly, and the extra information that Git records about the project's history. 

The combination of these two things is called a *repository*, or 'repo' as the cool kids like Peter say. 

### **Stage** (or "add") and **Commit**

Git has a *staging area* in which it stores files with changes you want to save, but haven't been saved yet.
  
  &gt; It's like putting things in a box that you intend to mail out. 
  
*Commiting* those changes is like putting that box in the mail. Your changes are saved into the history of your local repo. 

---

# Key Git Terms

### **Pull**/**Push**&lt;sup&gt;1&lt;/sup&gt;

Repositories can be local (on your machine) or *remote*, i.e. hosted online by a service like Github (which we'll chat about tout de suite ...)

A typical workflow:

  + You *pull* in your collaborators' work from a remote repository so that you have the latest version of everything.
  + You do some work.
  + You *push* your work back to the remote repository so that your collaborators can access it. 

.footnote[
&lt;sup&gt;1&lt;/sup&gt; These two commands were intentionally ordered in this way - it's good practice to Pull before you start work on a project, then Push when you're finished, even if you're working alone. If (when) you forget, there will be pain. Best to get in the habit.]

---

# Key Git Terms

### Many others ...

&lt;br&gt;
Conflicts

Cloning

Branches

Forking

&lt;br&gt;
But we'll save these concepts for the next workshop(s).

---

# Git (in practice)

&lt;div align="center"&gt;
&lt;img src="https://imgs.xkcd.com/comics/git.png" height=500&gt;
&lt;/div&gt;

---

# Git (in practice)

&lt;div align="center"&gt;
&lt;img src="pics/git-fire.png" height=420&gt;
&lt;/div&gt;

---

# Github

**Git and Github are distinct things.**

  + [Github](https://www.github.com) is an online hosting platform that provides an array of services built on top of the Git system&lt;sup&gt;1&lt;/sup&gt;.
  
  + We can create, manage permissions to, and store our files in repositories hosted by Github.
  
  + Just like we don't *need* RStudio to run R code, we don't *need* Github to use Git - but it makes our lives much easier.
  
&lt;div align="center"&gt;
&lt;img src="pics/github-logo.svg" height=150&gt;
&lt;/div&gt;

.footnote[
&lt;sup&gt;1&lt;/sup&gt; Other examples are Gitlab and Bitbucket.]

---

# Git(hub) for Scientific Research

In addition to the benefits of rigorous version control and collaboration tool, Git(hub) also helps to operationalize the ideals of open science and reproducibility.

  +  *Nature:* "[Democratic databases: science on GitHub](https://www.nature.com/news/democratic-databases-science-on-github-1.20719)" (Perkel, 2016).
  
Journals are increasingly moving towards stricter requirements regarding reproducibility and data access. 

  + No more frustrating reads of a tiny Methods section in a dusty old pdf file of a paper where you're trying desparately to understand what they did, step-by-step (.. *breathes heavily* ..).
  + You can host all the data, code, and writing for papers, projects, and/or reports in one place. Even [workshop materials](https://github.com/mabecker89/cure4git).
  
---

# Getting Started

&lt;div align="center"&gt;
&lt;img src="pics/so-it-begins-theoden.gif" height=420&gt;
&lt;/div&gt;

&gt; Much like the battle of Helm's Deep, this will likely involve some up front pain. 

---

# Getting Started

.font80[Note: there are a ton of great Git resources online to you walk you through this process in depth. A bunch are listed in the [Resources](#resources) section at the back of this presentation and in the workshop's repo [README file](https://github.com/mabecker89/cure4git/blob/master/README.md), many of which are heavily borrowed from for this presentation.] 

### Register for a [Github](www.github.com) account.

  - It's free! Don't worry about the paid accounts for now&lt;sup&gt;1&lt;/sup&gt;.

### Install Git on your local machine.

  - Depends on the OS you're running, but we'll assume Windows for this tutorial.
  - [Git for Windows](https://gitforwindows.org/), aka 'Git Bash', is a desirable approach.
  
.footnote[
&lt;sup&gt;1&lt;/sup&gt; You'll qualify for an educational account while you work for ABMI/UofA.]
  
---

# Getting Started

### Introduce yourself to Git.

Directly in the Shell:
  

```shell
$ git config --global user.name 'Marcus Becker'
$ git config --global user.email 'mabecker@ualberta.ca`
```
Or through R:


```r
# install.packages("usethis")
  
library(usethis)
use_git_config(user.name = "Marcus Becker", 
               user.email = "mabecker@ualberta.ca")
```

&lt;br&gt;
&lt;br&gt;
Tips: Use your (real) full name, and the email associated with your Github account. 

---
class: inverse, center, middle
name: rstudio

# Github and RStudio
&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;
---

# Seamless Integration 

A wonderful aspect of RStudio is how well it integrates version control into your project workflow.

Git is a separate program to R, but RStudio connects them so well that you feel they are part of the same ecosystem.

You can use Git through the RStudio GUI, and in the background it executes the shell commands for you.

--

&lt;br&gt;

&gt; Because of how easy it is&lt;sup&gt;1&lt;/sup&gt;, we'll introduce the use of Git through RStudio in this next section.

.footnote[
&lt;sup&gt;1&lt;/sup&gt; There are reasons why working with Git through RStudio is limiting. We'll touch on those next time when we work through some more advanced concepts.]

---

# General Recipe

.font80[*For new projects*]

1. Create a repo on GitHub and initialize with a README.

1. Copy the HTTPS/SSH link (the green "Clone or Download" button).

1. In RStudio, create a new Project using the following steps: 

  `File -&gt; New Project... -&gt; Version Control -&gt; Git` 
  
  and **clone** the repo to your local machine by pasting your copied link into the "Repository URL:" box.
  
1. Choose the project path (be intentional!) and click **Create Project**. 

&lt;br&gt;
&gt; See the gif walkthrough on the next slide.

---

# General Recipe

&lt;div align="center"&gt;
&lt;img src="pics/github-rstudio.gif" height=540&gt;
&lt;/div&gt;

---

# General Recipe

We've now cloned a remote repo from Github onto our local machine. Yay!



---
class: inverse, center, middle
name: conquer

# Go forth and conquer
&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;
---
name: resources

# Resources


---
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
